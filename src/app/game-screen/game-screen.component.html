<div class="game-screen-container d-flex justify-content-center align-items-center vh-100">
    <div class="game-content d-flex flex-column align-items-center justify-content-start">

        <!-- Logo - hidden on mobile -->
        <img class="img-fluid small-mobile-hidden" style="width:200px" src="assets/pokel.png">

        <!-- Generation Selection Dropdown -->
        <div class="dropdown mb-2 mt-2" ngbDropdown #generationDropdown="ngbDropdown">
            <button class="btn btn-outline-primary dropdown-toggle" type="button" id="generationDropdown"
                ngbDropdownToggle>
                Generations ({{generations.length}} selected)
            </button>
            <ul class="dropdown-menu" ngbDropdownMenu aria-labelledby="generationDropdown">
                <li *ngFor="let gen of [1,2,3,4,5,6,7,8,9]">
                    <a class="dropdown-item d-flex align-items-center" href="#"
                        (click)="toggleGeneration($event, gen, generationDropdown)">
                        <span class="me-2">
                            <span [ngClass]="generations.includes(gen) ? 'text-success fw-bold' : 'text-muted'">
                                {{generations.includes(gen) ? 'âœ“' : 'â—‹'}}
                            </span>
                        </span>
                        Generation {{gen}}
                    </a>
                </li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li>
                    <a class="dropdown-item text-primary" href="#" (click)="resetToGen1($event, generationDropdown)">
                        <i class="me-2">ðŸ”„</i>
                        Reset to Gen 1
                    </a>
                </li>
            </ul>
        </div>

        <!-- Selected Generations Display -->
        <div class="mb-4">
            <small class="text-muted">
                Generations: {{getSelectedGenerationsText()}}
            </small>
        </div>

        <!-- Mobile Action Buttons - positioned above letterboxes -->
        <div class="game-actions-mobile mb-4">
            <button class="btn btn-danger btn-xs" (click)="resetGame()">Play again</button>
            <button class="btn btn-danger btn-xs" (click)="openHelpModal()">Help</button>
        </div>

        <!-- Letter Boxes -->
        <div class="letterboxes-container mb-3">
            <letterboxes #letterboxesComponent [guesses]="(guesses$ | async) || []" [guessNumber]="guessNumber"
                [gameOver]="gameOver" [hasFoundWord]="hasFoundWord"
                [focussedLetterIndex]="this.game.focussedLetterIndex" [evaluatingGuess]="evaluatingGuess"
                (focusLetterBox)="onFocusLetterBox($event)">
            </letterboxes>
        </div>

        <!-- Mobile Keyboard Container - positioned at bottom of content area -->
        <div class="keyboard-container-mobile">
            <keyboard class="pt-4" [guesses]="(guesses$ | async) || []" [evaluatingGuess]="evaluatingGuess"
                (validKeyPress)="onVirtualKeyboardKeyPress($event)">
            </keyboard>
        </div>

        <!-- Desktop Keyboard - hidden on mobile -->
        <div class="keyboard-container-desktop">
            <keyboard class="pt-4" [guesses]="(guesses$ | async) || []" [evaluatingGuess]="evaluatingGuess"
                (validKeyPress)="onVirtualKeyboardKeyPress($event)">
            </keyboard>
        </div>

        <!-- Desktop Action Buttons - hidden on mobile -->
        <div class="game-actions-desktop pt-4">
            <button class="btn btn-danger btn-lg me-2" (click)="resetGame()">Play again</button>
            <button class="btn btn-outline-danger btn-sm" (click)="openHelpModal()">Help</button>
        </div>
    </div>
</div>